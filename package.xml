<?xml version="1.0" encoding="ISO-8859-1" ?>
<package version="1.0">
  <!-- $Id: package.xml,v 1.138 2004-12-10 20:07:49 danielc Exp $ -->
  <name>DB</name>
  <summary>Database Abstraction Layer</summary>
  <description>
DB is a database abstraction layer providing:
* an OO-style query API
* portability features that make programs written for one DBMS work with other DBMS's
* a DSN (data source name) format for specifying database servers
* prepare/execute (bind) emulation for databases that don't support it natively
* a result object for each query response
* portable error codes
* sequence emulation
* sequential and non-sequential row fetching as well as bulk fetching
* formats fetched rows as associative arrays, ordered arrays or objects
* row limit support
* transactions support
* table information interface
* DocBook and PHPDoc API documentation

DB layers itself on top of PHP's existing database
extensions.  The currently supported extensions are:
dbase, fbsql, interbase, informix, msql, mssql,
mysql, mysqli, oci8, odbc, pgsql, sqlite and sybase.

DB is compatible with both PHP 4 and PHP 5.
</description>
  <license>PHP License</license>
  <maintainers>
    <maintainer>
      <user>ssb</user>
      <role>developer</role>
      <name>Stig Bakken</name>
      <email>stig@php.net</email>
    </maintainer>
    <maintainer>
      <user>cox</user>
      <role>developer</role>
      <name>Tomas V.V.Cox</name>
      <email>cox@idecnet.com</email>
    </maintainer>
    <maintainer>
      <user>danielc</user>
      <role>lead</role>
      <name>Daniel Convissor</name>
      <email>danielc@analysisandsolutions.com</email>
    </maintainer>
  </maintainers>
  <release>
    <version>1.7.0RC1</version>
    <state>beta</state>
    <date>pending</date>
    <notes><![CDATA[
= - = - = - = - = - = - = - = - = - = - = - = - =
NOTICE!  fbsql has undergone major changes:

* Error mapping now works.  $errorcode_map was using
  MySQL's codes by mistake.  (danielc)
* Sequences now work.
* Removed WHERE 1=1 affected rows hack for DELETE
  queries from the modifyQuery() method.  Probably
  was inadvertently left when copying driver from
  mysql.php.
= - = - = - = - = - = - = - = - = - = - = - = - =

ibase:
* Add items to errorcode_map (from MDB2):
  -303 => DB_ERROR_INVALID
  -904 => DB_ERROR_CONNECT_FAILED

mssql:
* Use "," to delimit port only for Windows.  Use ":"
for other OS's.  This bug was introduced when
resolving Bug #2140.  (Bug #2731)

mysql & mysqli:
* Added 1061 => DB_ERROR_ALREADY_EXISTS to error map.
  (danielc)

oci8:
* When running PHP5, use the new oci_new_connect() and
  oci_close() functions instead of the old ones.
  Works around crashes caused by PHP bug
  http://bugs.php.net/bug.php?id=28924
  (PEAR Bug #2622)  (danielc)

odbc:
* Add '23504' => DB_ERROR_CONSTRAINT to error map.

pgsql:
* Allow multiple open parentheses in query strings
  (due to regex in simpleQuery()).  Bug 2586.

sqlite:
* Add tableInfo().  Request #1317.
* Capture $php_errormsg on connection errors to make
  debugging easier.

sybase:
* Provide debugging information to raiseError() when
  connections fail so getUserInfo() and getDebugInfo()
  provide useful information.  (danielc)

all:
* If DSN contains "dbsyntax", always use that for
  $this->dbsyntax.  Used to only be done for odbc.
  (danielc)

tests:
* Reworked 10errormap.phpt so it passes when all
  expected conditions are met.  Also tweaked it
  to make it work under fbsql.  (danielc)
    ]]></notes>
    <filelist>
      <file role="php" baseinstalldir="/">DB.php</file>
      <dir name="DB" role="php">
        <file name="common.php"/>
        <file name="dbase.php"/>
        <file name="fbsql.php"/>
        <file name="ibase.php"/>
        <file name="ifx.php"/>
        <file name="msql.php"/>
        <file name="mssql.php"/>
        <file name="mysql.php"/>
        <file name="mysqli.php"/>
        <file name="oci8.php"/>
        <file name="odbc.php"/>
        <file name="pgsql.php"/>
        <file name="sybase.php"/>
        <file name="storage.php"/>
        <file name="sqlite.php"/>
      </dir>
      <dir name="doc" role="doc">
        <file name="IDEAS"/>
        <file name="MAINTAINERS"/>
        <file name="STATUS"/>
        <file name="TESTERS"/>
      </dir>
      <dir name="tests" role="test">
        <file name="db_error.phpt"/>
        <file name="db_parsedsn.phpt"/>
        <file name="db_factory.phpt"/>
        <file name="db_ismanip.phpt"/>
        <file name="db_error2.phpt"/>
        <file name="errors.inc"/>
        <file name="fetchmode_object.inc"/>
        <file name="fetchmodes.inc"/>
        <file name="include.inc">
          <replace from="@include_path@" to="php_dir"
            type="pear-config"/>
        </file>
        <file name="limit.inc"/>
        <file name="numcols.inc"/>
        <file name="numrows.inc"/>
        <file name="prepexe.inc"/>
        <file name="run.cvs"/>
        <file name="sequences.inc"/>
        <file name="simplequery.inc"/>
        <file name="transactions.inc"/>
        <file name="skipif.inc"/>
        <dir name="driver" role="test">
          <file name="01connect.phpt"/>
          <file name="02fetch.phpt"/>
          <file name="03simplequery.phpt"/>
          <file name="04numcols.phpt"/>
          <file name="05sequences.phpt"/>
          <file name="06prepexec.phpt"/>
          <file name="08affectedrows.phpt"/>
          <file name="09numrows.phpt"/>
          <file name="10errormap.phpt"/>
          <file name="11transactions.phpt"/>
          <file name="13limit.phpt"/>
          <file name="14fetchmode_object.phpt"/>
          <file name="15quote.phpt"/>
          <file name="16tableinfo.phpt"/>
          <file name="17query.phpt"/>
          <file name="18get.phpt"/>
          <file name="bug22328.phpt"/>
          <file name="connect.inc"/>
          <file name="mktable.inc"/>
          <file name="run.cvs"/>
          <file name="setup.inc.cvs">
            <replace from="@include_path@" to="php_dir"
              type="pear-config"/>
          </file>
          <file name="skipif.inc"/>
        </dir>
      </dir>
    </filelist>
    <deps>
      <dep type="php" rel="ge" version="4.2.0" />
      <dep type="pkg" rel="ge" version="1.0b1">PEAR</dep>
    </deps>
  </release>
</package>
