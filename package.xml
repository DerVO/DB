<?xml version="1.0" encoding="ISO-8859-1" ?>
<package version="1.0">
  <!-- $Id: package.xml,v 1.147 2005-01-28 21:02:07 danielc Exp $ -->
  <name>DB</name>
  <summary>Database Abstraction Layer</summary>
  <description>
DB is a database abstraction layer providing:
* an OO-style query API
* portability features that make programs written for one DBMS work with other DBMS's
* a DSN (data source name) format for specifying database servers
* prepare/execute (bind) emulation for databases that don't support it natively
* a result object for each query response
* portable error codes
* sequence emulation
* sequential and non-sequential row fetching as well as bulk fetching
* formats fetched rows as associative arrays, ordered arrays or objects
* row limit support
* transactions support
* table information interface
* DocBook and PHPDoc API documentation

DB layers itself on top of PHP's existing
database extensions.

Drivers for the following extensions pass
the complete test suite and provide
interchangeability when all of DB's
portability options are enabled:

  fbsql, ibase, mssql, mysql, mysqli,
  oci8, odbc, pgsql, sqlite and sybase.

Drivers for these extensions exist but
haven't been thoroughly tested:

  dbase, informix, and msql.

DB is compatible with both PHP 4 and PHP 5.
</description>
  <license>PHP License</license>
  <maintainers>
    <maintainer>
      <user>ssb</user>
      <role>developer</role>
      <name>Stig Bakken</name>
      <email>stig@php.net</email>
    </maintainer>
    <maintainer>
      <user>cox</user>
      <role>developer</role>
      <name>Tomas V.V.Cox</name>
      <email>cox@idecnet.com</email>
    </maintainer>
    <maintainer>
      <user>danielc</user>
      <role>lead</role>
      <name>Daniel Convissor</name>
      <email>danielc@php.net</email>
    </maintainer>
    <maintainer>
      <user>lsmith</user>
      <role>helper</role>
      <name>Lukas Kahwe Smith</name>
      <email>smith@backendmedia.com</email>
    </maintainer>
  </maintainers>
  <release>
    <version>1.7.0RC1</version>
    <state>beta</state>
    <date>pending</date>
    <notes><![CDATA[
common:
* Consider SELECT INTO and COPY data manipulation
  queries in isManip().  Bug 2883.

fbsql:
* FrontBase driver now works and passes all tests.

ibase:
* Add items to errorcode_map (from MDB2):
  -303 => DB_ERROR_INVALID
  -904 => DB_ERROR_CONNECT_FAILED

mssql:
* Use "," to delimit port only for Windows.  Use ":"
  for other OS's.  This bug was introduced when
  resolving Bug #2140.  (Bug #2731)
* Add 1913 (duplicate index creation) to errorcode_map.

mysql & mysqli:
* Added 1061 => DB_ERROR_ALREADY_EXISTS to error map.
* Remove $num_rows property.  Wasn't used in all
  drivers and numRows() can get the answer
  directly from the DBMS' API.

oci8:
* When running PHP5, use the new oci_new_connect() and
  oci_close() functions instead of the old ones.
  Works around crashes caused by PHP bug
  http://bugs.php.net/bug.php?id=28924
  (PEAR Bug #2622)

odbc:
* Add '23504' => DB_ERROR_CONSTRAINT to error map.
* Deal with MS Access' excessive use of the
  S1000 ("General Error") code by trying to
  pin down a more specific error.

pgsql:
* Allow multiple open parentheses in query strings
  (due to regex in simpleQuery()).  Bug 2586.
* Use pg_affected_rows() instead of the undocumented
  pg_cmdtuples() in affectedRows().
* Make $num_rows property private.
* Add duplicate index creation to errorcode_map.

sqlite:
* Add tableInfo().  Request #1317.
* Capture $php_errormsg on connection errors to make
  debugging easier.
* Add duplicate index creation to errorcode_map.

sybase:
* Provide debugging information to raiseError() when
  connections fail so getUserInfo() and getDebugInfo()
  provide useful information.
* Remove $num_rows property.  Wasn't used in all
  drivers and numRows() can get the answer
  directly from the DBMS' API.

all:
* If DSN contains "dbsyntax", always use that for
  $this->dbsyntax.  Used to only be done for odbc.
* When trying to DROP an index that doesn't exist,
  use the DB_ERROR_NOT_FOUND error code.

tests:
* Reworked 10errormap.phpt so it passes when all
  expected conditions are met.  Also tweaked it
  to make it work under fbsql.
    ]]></notes>
    <filelist>
      <file name="DB.php" role="php" baseinstalldir="/">
        <replace from="@package_version@" to="version" type="package-info" />
      </file>
      <dir name="DB" role="php">
        <file name="common.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="dbase.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="fbsql.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="ibase.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="ifx.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="msql.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="mssql.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="mysql.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="mysqli.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="oci8.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="odbc.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="pgsql.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="sybase.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="storage.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
        <file name="sqlite.php">
          <replace from="@package_version@" to="version" type="package-info" />
        </file>
      </dir>
      <dir name="doc" role="doc">
        <file name="IDEAS"/>
        <file name="MAINTAINERS"/>
        <file name="STATUS"/>
        <file name="TESTERS"/>
      </dir>
      <dir name="tests" role="test">
        <file name="db_error.phpt"/>
        <file name="db_parsedsn.phpt"/>
        <file name="db_factory.phpt"/>
        <file name="db_ismanip.phpt"/>
        <file name="db_error2.phpt"/>
        <file name="errors.inc"/>
        <file name="fetchmode_object.inc"/>
        <file name="fetchmodes.inc"/>
        <file name="include.inc">
          <replace from="@include_path@" to="php_dir"
            type="pear-config"/>
        </file>
        <file name="limit.inc"/>
        <file name="numcols.inc"/>
        <file name="numrows.inc"/>
        <file name="prepexe.inc"/>
        <file name="run.cvs"/>
        <file name="sequences.inc"/>
        <file name="simplequery.inc"/>
        <file name="transactions.inc"/>
        <file name="skipif.inc"/>
        <dir name="driver" role="test">
          <file name="01connect.phpt"/>
          <file name="02fetch.phpt"/>
          <file name="03simplequery.phpt"/>
          <file name="04numcols.phpt"/>
          <file name="05sequences.phpt"/>
          <file name="06prepexec.phpt"/>
          <file name="08affectedrows.phpt"/>
          <file name="09numrows.phpt"/>
          <file name="10errormap.phpt"/>
          <file name="11transactions.phpt"/>
          <file name="13limit.phpt"/>
          <file name="14fetchmode_object.phpt"/>
          <file name="15quote.phpt"/>
          <file name="16tableinfo.phpt"/>
          <file name="17query.phpt"/>
          <file name="18get.phpt"/>
          <file name="bug22328.phpt"/>
          <file name="connect.inc"/>
          <file name="mktable.inc"/>
          <file name="run.cvs"/>
          <file name="setup.inc.cvs">
            <replace from="@include_path@" to="php_dir"
              type="pear-config"/>
          </file>
          <file name="skipif.inc"/>
        </dir>
      </dir>
    </filelist>
    <deps>
      <dep type="php" rel="ge" version="4.2.0" />
      <dep type="pkg" rel="ge" version="1.0b1">PEAR</dep>
    </deps>
  </release>
</package>
